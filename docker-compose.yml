# Docker Compose для Python Backend AIgod
# Запуск из корня проекта: docker-compose up --build
services:
  aigod-api:
    build: ./python-backend
    container_name: aigod-backend
    ports:
      - "8000:8000"
    volumes:
      - aigod_data:/app/persist
    environment:
      - SECRET_KEY=${SECRET_KEY:-aigod-hackathon-change-in-production}
      - SQLITE_DB_PATH=/app/persist/aigod.db
      - YANDEX_CLOUD_FOLDER=${YANDEX_CLOUD_FOLDER}
      - YANDEX_CLOUD_API_KEY=${YANDEX_CLOUD_API_KEY}
      - API_MESSAGE_LIMIT_PER_DAY=${API_MESSAGE_LIMIT_PER_DAY:-100}
    restart: unless-stopped

volumes:
  aigod_data:
